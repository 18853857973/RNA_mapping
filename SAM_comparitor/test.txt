#!/usr/bin/env python

import sys

sam1 = sys.argv[1]
sam2 = sys.argv[2]

#Check genomes are the same

#Parse map/unmapped
for F in [sam1, sam2]:
	with open(F) as f:
		unmapped = 0
		count    = 0

		while True:
			line = f.readline()
			if line = "":
				break
			if not line.startswith("@"):
				flag = int(line.split()[1])
				if flag & 4:
					unmapped += 1
				count += 1
		pcnt_unmapped = float(unmapped)/count
		print "Percent unmapped:"
		print F + ":\t%f %d/%d" % (pcnt_unmapped, unmapped, count)

